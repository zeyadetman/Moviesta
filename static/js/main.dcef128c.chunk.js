(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t){e.exports="data:image/png;base64,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"},179:function(e,t,a){e.exports=a(347)},281:function(e,t,a){},345:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),i=a.n(s),o=a(38),c=a(39),l=a(43),u=a(40),h=a(42),d=a(105),p=(a(350),a(189),a(192),a(196),d.initializeApp({apiKey:"AIzaSyCOGzn37DcUSmXyDAB7W9EK6yJTbNkIj7g",authDomain:"moviesta-z.firebaseapp.com",databaseURL:"https://moviesta-z.firebaseio.com",projectId:"moviesta-z",storageBucket:"moviesta-z.appspot.com",messagingSenderId:"471207436083"})),m=d.firestore();m.settings({timestampsInSnapshots:!0});d.database().ref().child("users");var f=a(56),v=a(108),g=a(24),y=a.n(g),b=a(46),w=a(15),E=a(361),O=a(354),x=a(358),k=a(55),A=a(14),S=a(352),j=a(355),I=a(67),C=a(163),B="c01ce69374cd4bcd642c42dcffb14926",N=a.n(C).a.create({baseURL:"https://api.themoviedb.org/3",timeout:6e5,headers:{"Content-Type":"application/json"}}),M=function(e){return function(t){return N.get("/movie/".concat(e,"?api_key=").concat(B)).then(function(e){return t({type:"FETCH_MOVIE_INFO",payload:e.data})})}},z=a(363),R=a(351),D=a(357),W=a(348),F=a(353),T=a(359),P=a(356),U=a(164),X=a.n(U),H=F.a.Meta,K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isModal:!1,movie:{}},a.handleViewModal=a.handleViewModal.bind(Object(w.a)(Object(w.a)(a))),a.handleClose=a.handleClose.bind(Object(w.a)(Object(w.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleViewModal",value:function(){var e=Object(b.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.movieMoreInfo,e.next=3,a(t);case 3:this.setState({isModal:!0,movie:this.props.movie});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleClose",value:function(){this.setState({isModal:!1})}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.poster_path,s=a.id,i=a.title,o=a.isMovieFav,c=this.state.movie,l=c.genres,u=c.release_date,h=c.homepage,d=c.overview,p=c.vote_average,m=c.popularity,f=c.runtime;return r.a.createElement("div",null,r.a.createElement(F.a,{cover:r.a.createElement("img",{alt:"example",src:"https://image.tmdb.org/t/p/w500/".concat(n)}),actions:[r.a.createElement(T.a,{count:1,key:s,defaultValue:o?1:0,onChange:function(){return t.props.addMovieFav(s)}}),r.a.createElement(A.a,{type:"info-circle",onClick:function(){return t.handleViewModal(s)},key:s})]},r.a.createElement(H,{title:i,description:null})),r.a.createElement(P.a,{title:i,visible:this.state.isModal,onOk:this.handleClose,onCancel:this.handleClose},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement("img",{style:{maxWidth:"360px",width:"100%",maxHeight:"400px"},alt:"example",src:"https://image.tmdb.org/t/p/w500/".concat(n)}),r.a.createElement("div",{style:{marginLeft:"15px",maxWidth:"500px",minWidth:"200px"},className:"movie__meta"},r.a.createElement("h1",{style:{marginBottom:0}},r.a.createElement("a",{href:h,rel:"noopener",style:{fontSize:"2em"}},i),r.a.createElement("span",{style:{marginLeft:"10px",fontSize:"1em"}},(e=u,X()(e).format("YYYY")||"Date Not Found"))),r.a.createElement("p",{style:{fontSize:"1.5em",fontWeight:600}},l?Object(z.a)("name",l).join(" / "):"No Genres Found"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",fontSize:"1.2em",margin:"10px 5px"}},r.a.createElement("p",{title:"Runtime"},r.a.createElement(A.a,{type:"clock-circle",theme:"twoTone",twoToneColor:"#52c41a"})," ",f),r.a.createElement("p",{title:"Popularity"},r.a.createElement(A.a,{type:"line-chart"})," ",m),r.a.createElement("p",{title:"Vote Average"},r.a.createElement(A.a,{type:"notification",theme:"twoTone",twoToneColor:"#fc3"})," ",p)),r.a.createElement("label",null,r.a.createElement("span",{style:{fontSize:"1.5em",fontWeight:500}},"Overview"),r.a.createElement("p",{style:{textAlign:"justify"}},d))))))}}]),t}(n.Component),V=Object(I.b)(function(e){return{movie:e.search.movie}},{movieMoreInfo:M})(K),Y=a(102),G=a(171),Z=a.n(G),J=(a(279),a(281),E.a.Header),L=E.a.Content,Q=O.a.SubMenu,q=x.a.Search,_=x.a.Group,$=k.a.Option,ee=new Y.a,te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={searchType:"title",searchQuery:"",searchPagesCount:0,keywordsIds:[],movies:[],favs:[],mode:"home",favsInfo:[],loading:!1},a.handleSearch=a.handleSearch.bind(Object(w.a)(Object(w.a)(a))),a.handlePageChange=a.handlePageChange.bind(Object(w.a)(Object(w.a)(a))),a.fetchMovies=a.fetchMovies.bind(Object(w.a)(Object(w.a)(a))),a.addMovieFav=a.addMovieFav.bind(Object(w.a)(Object(w.a)(a))),a.fetchFavsInfo=a.fetchFavsInfo.bind(Object(w.a)(Object(w.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.auth().currentUser.uid&&m.collection("users").doc(p.auth().currentUser.uid).get().then(function(t){t.exists&&e.setState({favs:t.data().favorites})})}},{key:"fetchMovies",value:function(){var e=Object(b.a)(y.a.mark(function e(){var t,a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.keywordsIds,e.next=3,this.props.searchMoviesByKeywords(t);case 3:a=this.props,n=a.pageCount,r=a.results,this.setState({searchPagesCount:20*n,movies:r});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(){var e=Object(b.a)(y.a.mark(function e(t){var a,n,r,s,i,o,c,l,u,h;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({searchQuery:t,mode:"home",loading:!0});case 2:if("title"!==(a=this.state.searchType)){e.next=10;break}return e.next=6,this.props.searchMovies(t);case 6:n=this.props,r=n.pageCount,s=n.results,this.setState({searchPagesCount:20*r,movies:s}),e.next=25;break;case 10:if("keywords"!==a){e.next=25;break}return e.next=13,this.props.searchKeywords(t);case 13:i=this.props,o=i.pageCount,c=i.results,l=Object(z.a)("id",c),u=2;case 16:if(!(u<=o)){e.next=24;break}return e.next=19,this.props.searchKeywords(t,u);case 19:h=Object(z.a)("id",this.props.results),l=[].concat(Object(v.a)(l),Object(v.a)(h));case 21:u++,e.next=16;break;case 24:this.setState({keywordsIds:l.join("|")},this.fetchMovies);case 25:this.setState({loading:!1});case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(b.a)(y.a.mark(function e(t){var a,n,r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.searchType,r=a.searchQuery,s=a.keywordsIds,"title"!==n){e.next=6;break}return e.next=4,this.props.searchMovies(r,t);case 4:e.next=9;break;case 6:if("keywords"!==n){e.next=9;break}return e.next=9,this.props.searchMoviesByKeywords(s,t);case 9:this.setState({movies:this.props.results});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addMovieFav",value:function(){var e=Object(b.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.favs||!Object(R.a)(t,this.state.favs)){e.next=5;break}return e.next=3,this.setState({favs:Object(D.a)([t],this.state.favs)});case 3:e.next=12;break;case 5:return e.next=7,this.state.favs;case 7:if(!e.sent){e.next=11;break}this.setState({favs:[].concat(Object(v.a)(this.state.favs),[t])}),e.next=12;break;case 11:this.setState({favs:[t]});case 12:m.collection("users").doc(p.auth().currentUser.uid).set({favorites:this.state.favs});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFavsInfo",value:function(){var e=Object(b.a)(y.a.mark(function e(t){var a,n,r,s,i,o,c,l,u;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),a=[],n=!0,r=!1,s=void 0,e.prev=5,i=t[Symbol.iterator]();case 7:if(n=(o=i.next()).done){e.next=17;break}return c=o.value,e.next=11,this.props.movieMoreInfo(c);case 11:l=e.sent,u=l.payload,a.push(u);case 14:n=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),r=!0,s=e.t0;case 23:e.prev=23,e.prev=24,n||null==i.return||i.return();case 26:if(e.prev=26,!r){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:this.setState(Object(f.a)({},this.state,{loading:!1,mode:"favorite",favsInfo:a,searchPagesCount:0}));case 32:case"end":return e.stop()}},e,this,[[5,19,23,31],[24,,26,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{className:"layout"},r.a.createElement(J,{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(_,{compact:!0,style:{width:"95%",maxWidth:"500px",display:"flex",justifyContent:"center"}},r.a.createElement(k.a,{defaultValue:this.state.searchType,onChange:function(t){return e.setState({searchType:t})},style:{width:100}},r.a.createElement($,{value:"title"},"Title"),r.a.createElement($,{value:"keywords"},"Keywords")),r.a.createElement(q,{placeholder:"Find Movies, TV Shows and more...",onSearch:this.handleSearch,style:{width:400},enterButton:!0})),r.a.createElement(O.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"34px"}},r.a.createElement(Q,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(A.a,{type:"user"}),r.a.createElement("span",null,"User"))},r.a.createElement(O.a.Item,{key:"1",onClick:function(){return e.handleSearch(e.state.searchQuery)}},"Home"),r.a.createElement(O.a.Item,{key:"2",onClick:function(){return e.fetchFavsInfo(e.state.favs)}},"Favorite List"),r.a.createElement(O.a.Item,{key:"3",onClick:function(){p.auth().signOut(),ee.remove("token")}},"Sign Out")))),r.a.createElement(L,{style:{padding:"25px 50px"}},r.a.createElement("div",{style:{textAlign:"center",margin:"0 auto",marginBottom:"25px",width:"50%",minWidth:"250px"}},r.a.createElement("h1",{style:{fontSize:"3em",marginBottom:0,fontWeight:900}},"M",r.a.createElement("span",{style:{verticalAlign:"text-bottom"}},r.a.createElement("img",{style:{animation:"spin 6s linear infinite"},src:Z.a,width:"30",alt:"cinema logo"})),"VIESTA"),r.a.createElement("h2",{style:{color:"#545454",fontWeight:700}},"The King of Movies")),r.a.createElement("div",null,r.a.createElement(S.a,{tip:"Waiting...",spinning:this.state.loading},r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gridAutoRows:"auto",gridGap:"1rem"}},this.state.movies?Object(W.a)(function(t){return r.a.createElement(V,{key:t.id,id:t.id,poster_path:t.poster_path,title:t.title,overview:t.overview,addMovieFav:e.addMovieFav,isMovieFav:!!e.state.favs&&Object(R.a)(t.id,e.state.favs)})},"favorite"===this.state.mode?this.state.favsInfo:this.state.movies):null),r.a.createElement(j.a,{style:{textAlign:"right",margin:"15px 0"},defaultCurrent:1,onChange:this.handlePageChange,pageSize:20,total:this.state.searchPagesCount})))))}}]),t}(n.Component),ae=Object(I.b)(function(e){return{pageCount:e.search.pageCount,results:e.search.results}},{searchKeywords:function(e,t){return function(a){return N.get("/search/keyword?api_key=".concat(B,"&query=").concat(e).concat(t?"&page=".concat(t):"")).then(function(e){return a({type:"SEARCH_KEYWORDS",payload:e.data})})}},searchMoviesByKeywords:function(e,t){return function(a){return N.get("/discover/movie?api_key=".concat(B,"&sort_by=popularity.desc&\n  ").concat(t?"&page=".concat(t):"","&with_keywords=").concat(e)).then(function(e){return a({type:"FETCH_MOVIES_KEYWORDS",payload:e.data})})}},searchMovies:function(e,t){return function(a){return N.get("/search/movie?api_key=".concat(B).concat(t?"&page=".concat(t):"","&query=").concat(e)).then(function(e){return a({type:"SEARCH_MOVIES",payload:e.data})})}},movieMoreInfo:M})(te),ne=a(362),re=a(360),se=a(53),ie=(a(349),new Y.a),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",isLogin:!0},a.handleSubmit=a.handleSubmit.bind(Object(w.a)(Object(w.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||t.setState({email:a.email,password:a.password},function(){t.state.isLogin?p.auth().signInWithEmailAndPassword(t.state.email,t.state.password).then(function(e){return ie.set("token",e.user.uid,{path:"/"})}).catch(function(e){return ne.a.error(e.message)}):p.auth().createUserWithEmailAndPassword(t.state.email,t.state.password).then(function(e){return ie.set("token",e.user.uid,{path:"/"})}).then(function(){return m.collection("users").doc(p.auth().currentUser.uid.toString()).set({favorits:[]})}).catch(function(e){return ne.a.error(e.message)})})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement(re.a,{onSubmit:this.handleSubmit,className:"login-form",style:{width:"20%",minWidth:"250px",margin:"25px auto"}},r.a.createElement("h1",null,this.state.isLogin?"Sign In":"Sign Up"),r.a.createElement(re.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your Email!"}]})(r.a.createElement(x.a,{type:"email",prefix:r.a.createElement(A.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),r.a.createElement(re.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(x.a,{prefix:r.a.createElement(A.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(re.a.Item,null,r.a.createElement(se.a,{type:"primary",htmlType:"submit",className:"login-form-button"},this.state.isLogin?"Login":"Register")," Or\xa0",r.a.createElement("span",{style:{cursor:"default",color:"#1890ff",textDecoration:"underline"},onClick:function(){return e.setState({isLogin:!e.state.isLogin})}},this.state.isLogin?"Register Now":"Login Instead")))}}]),t}(n.Component),ce=re.a.create()(oe),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:null,status:"running"},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.auth().onAuthStateChanged(function(t){return t?e.setState({user:t,status:"finish"}):e.setState({user:null,status:"finish"})})}},{key:"render",value:function(){return"finish"===this.state.status?this.state.user?r.a.createElement(ae,null):r.a.createElement(ce,null):r.a.createElement(S.a,{style:{width:"90%",height:"60%",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"},tip:"Waiting..."})}}]),t}(n.Component),ue=a(44),he=a(175),de={pageCount:null,results:{},movie:{}},pe=Object(ue.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_KEYWORDS":case"SEARCH_MOVIES":case"FETCH_MOVIES_KEYWORDS":return Object(f.a)({},e,{results:t.payload.results,pageCount:t.payload.total_pages});case"FETCH_MOVIE_INFO":return Object(f.a)({},e,{movie:t.payload});default:return e}}}),me=[he.a],fe=Object(ue.e)(pe,{},Object(ue.d)(ue.a.apply(void 0,me)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(345);i.a.render(r.a.createElement(I.a,{store:fe},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[179,2,1]]]);
//# sourceMappingURL=main.dcef128c.chunk.js.map